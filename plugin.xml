<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0" xmlns:android="http://schemas.android.com/apk/res/android"
        id="com.onegini.oneginiCordovaPlugin" version="0.2.3">
  <name>OneginiCordovaPlugin</name>
  <description>Cordova Device Plugin</description>
  <js-module src="www/onegini.js" name="oneginiCordovaPlugin">
    <clobbers target="oneginiCordovaPlugin" />
  </js-module>

  <platform name="ios">
    <config-file target="config.xml" parent="/*">
      <feature name="OneginiCordovaClient">
        <param name="ios-package" value="OneginiCordovaClient"/>
        <param name="onload" value="true"/>
      </feature>
    </config-file>
    <header-file src="src/ios/OneginiCordovaPlugin/Classes/OneginiCordovaClient.h"/>
    <source-file src="src/ios/OneginiCordovaPlugin/Classes/OneginiCordovaClient.m"/>
	<header-file src="src/ios/OneginiCordovaPlugin/Classes/PinEntryContainerViewController.h"/>
	<source-file src="src/ios/OneginiCordovaPlugin/Classes/PinEntryContainerViewController.m"/>
	<source-file src="src/ios/OneginiCordovaPlugin/Classes/PinEntryContainerViewController.xib"/>
	<header-file src="src/ios/OneginiCordovaPlugin/Classes/PinEntryViewController.h"/>
	<source-file src="src/ios/OneginiCordovaPlugin/Classes/PinEntryViewController.m"/>
	<source-file src="src/ios/OneginiCordovaPlugin/Classes/PinEntryViewController.xib"/>

    <header-file src="src/ios/OneginiSDKiOS/Headers/OGAuthorizationDelegate.h"/>
    <header-file src="src/ios/OneginiSDKiOS/Headers/OGConfigModel.h"/>
    <header-file src="src/ios/OneginiSDKiOS/Headers/OGChangePinDelegate.h"/>
    <header-file src="src/ios/OneginiSDKiOS/Headers/OGEnrollmentHandlerDelegate.h"/>
    <header-file src="src/ios/OneginiSDKiOS/Headers/OGOneginiClient.h"/>
    <header-file src="src/ios/OneginiSDKiOS/Headers/OGPublicCommons.h"/>
    <header-file src="src/ios/OneginiSDKiOS/Headers/OGPinValidationDelegate.h"/>
    <header-file src="src/ios/OneginiSDKiOS/Headers/OGResourceHandlerDelegate.h"/>
    <header-file src="src/ios/OneginiSDKiOS/Headers/OneginiSDK.h"/>

    <source-file src="src/ios/OneginiSDKiOS/libOneginiSDKiOS-2.04.05.04-SNAPSHOT.a" framework="true"/>

    <resource-file src="src/ios/OneginiCordovaPlugin/Resources/PositiveSSLCA2.cer"/>
    <resource-file src="src/ios/OneginiCordovaPlugin/Resources/PositiveSSLCA2.pem"/>
	
	<!-- Generic OAUTH config -->
    <resource-file src="src/generic/config.json" />
	
	<!-- Work in progress, these are not the correct image assets (copied from example PSD with low resolution) --> 
    <resource-file src="src/generic/pin-config.json" />
	<resource-file src="src/generic/pin_container_ipad_landscape_bg.png" />
	<resource-file src="src/generic/pin_delete_key_normal.png" />
	<resource-file src="src/generic/pin_delete_key_highlighted.png" />
	<resource-file src="src/generic/pin_key_highlighted.png" />
	<resource-file src="src/generic/pin_key_normal.png" />
	<resource-file src="src/generic/pin-occupied-ic.png" />
	<resource-file src="src/generic/pin-clear-ic.png" />
	
	<!-- Fonts used by the PIN dialog -->
	<resource-file src="src/generic/fonts/SourceSansPro-ExtraLight.ttf" />
	<resource-file src="src/generic/fonts/SourceSansPro-ExtraLightItalic.ttf" />
	<resource-file src="src/generic/fonts/SourceSansPro-Italic.ttf" />
	<resource-file src="src/generic/fonts/SourceSansPro-Light.ttf" />
	<resource-file src="src/generic/fonts/SourceSansPro-LightItalic.ttf" />
	<resource-file src="src/generic/fonts/SourceSansPro-Regular.ttf" />
	<resource-file src="src/generic/fonts/SourceSansPro-Semibold.ttf" />
	<resource-file src="src/generic/fonts/SourceSansPro-SemiboldItalic.ttf" />
	
    <framework src="libiconv.dylib"/>
    <framework src="libc++.dylib"/>

  </platform>
  <platform name="android">
    <config-file target="res/xml/config.xml" parent="/*">
      <feature name="OneginiCordovaClient" >
        <param name="android-package" value="com.onegini.OneginiCordovaPlugin"/>
        <param name="onload" value="true" />
      </feature>
    </config-file>
    <config-file target="AndroidManifest.xml" parent="/manifest">
      <uses-permission android:name="android.permission.INTERNET" />
      <uses-permission android:name="android.permission.GET_ACCOUNTS" />
      <uses-permission android:name="android.permission.WAKE_LOCK" />
      <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />

      <permission android:name="com.onegini.mobile.sdk.android.demo.permission.C2D_MESSAGE"
          android:protectionLevel="signature" />
      <uses-permission android:name="com.onegini.mobile.sdk.android.demo.permission.C2D_MESSAGE" />

    </config-file>
    <config-file target="AndroidManifest.xml"  parent="/*/application/activity">
        <intent-filter>
            <action android:name="android.intent.action.VIEW" />
            <category android:name="android.intent.category.DEFAULT" />
            <category android:name="android.intent.category.BROWSABLE" />
            <data android:scheme="oneginisdk"/>
        </intent-filter>
    </config-file>
    <config-file target="AndroidManifest.xml" parent="/manifest/application">
      <activity
        android:name="com.onegini.dialogs.PinScreenActivity"
        android:theme="@android:style/Theme.Black.NoTitleBar"
        android:launchMode="singleInstance">
      </activity>
    </config-file>

    <source-file src="src/android/src/android/com/onegini/OneginiConstants.java" target-dir="src/com/onegini/" />
    <source-file src="src/android/src/android/com/onegini/OneginiCordovaPlugin.java" target-dir="src/com/onegini/" />
    <source-file src="src/android/src/android/com/onegini/actions/PluginInitializer.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/AwaitInitialization.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/AuthorizeAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/ChangePinAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/DisconnectAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/FetchResourceAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/FetchResourceAnonymouslyAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/InAppBrowserControlSession.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/LogoutAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/MobileAuthenticationAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/OneginiPluginAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/PinProvidedAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/ValidatePinAction.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/dialogs/ConfirmationDialogSelectorHandler.java" target-dir="src/com/onegini/dialogs/" />
    <source-file src="src/android/src/android/com/onegini/dialogs/CreatePinNativeDialogHandler.java" target-dir="src/com/onegini/dialogs/" />
    <source-file src="src/android/src/android/com/onegini/dialogs/CreatePinNonNativeDialogHandler.java" target-dir="src/com/onegini/dialogs/" />
    <source-file src="src/android/src/android/com/onegini/dialogs/CurrentPinNativeDialogHandler.java" target-dir="src/com/onegini/dialogs/" />
    <source-file src="src/android/src/android/com/onegini/dialogs/CurrentPinNonNativeDialogHandler.java" target-dir="src/com/onegini/dialogs/" />
    <source-file src="src/android/src/android/com/onegini/dialogs/PinDialogMessages.java" target-dir="src/com/onegini/dialogs" />
    <source-file src="src/android/src/android/com/onegini/dialogs/PinIntentBroadcaster.java" target-dir="src/com/onegini/dialogs" />
    <source-file src="src/android/src/android/com/onegini/dialogs/PinScreenActivity.java" target-dir="src/com/onegini/dialogs" />
    <source-file src="src/android/src/android/com/onegini/actions/PinCallbackSession.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/URLHandler.java" target-dir="src/com/onegini/actions/" />
    <source-file src="src/android/src/android/com/onegini/actions/CheckIsRegisteredAction.java" target-dir="src/com/onegini/actions/" />
    <!--<source-file src="src/android/src/android/com/onegini/gcm/GCMHelper.java" target-dir="src/com/onegini/gcm/" />-->
    <source-file src="src/android/src/android/com/onegini/model/ConfigModel.java" target-dir="src/com/onegini/model/" />
    <source-file src="src/android/src/android/com/onegini/model/PinConfigModel.java" target-dir="src/com/onegini/model/" />
    <source-file src="src/android/src/android/com/onegini/resource/AnonymousResourceClient.java" target-dir="src/com/onegini/resource/" />
    <source-file src="src/android/src/android/com/onegini/resource/ResourceClient.java" target-dir="src/com/onegini/resource/" />
    <source-file src="src/android/src/android/com/onegini/resource/ResourceHandler.java" target-dir="src/com/onegini/resource/" />
    <source-file src="src/android/src/android/com/onegini/resource/ResourceRequest.java" target-dir="src/com/onegini/resource/" />
    <source-file src="src/android/src/android/com/onegini/resource/RestResourceInterface.java" target-dir="src/com/onegini/resource/" />
    <source-file src="src/android/src/android/com/onegini/responses/InAppBrowserControlResponse.java" target-dir="src/com/onegini/responses/" />
    <source-file src="src/android/src/android/com/onegini/responses/MobileAuthEnrollmentResponse.java" target-dir="src/com/onegini/responses/" />
    <source-file src="src/android/src/android/com/onegini/responses/OneginiAuthorizationResponse.java" target-dir="src/com/onegini/responses/" />
    <source-file src="src/android/src/android/com/onegini/responses/OneginiPinResponse.java" target-dir="src/com/onegini/responses/" />
    <source-file src="src/android/src/android/com/onegini/responses/ResourceCallResponse.java" target-dir="src/com/onegini/responses/" />
    <source-file src="src/android/src/android/com/onegini/scope/ScopeParser.java" target-dir="src/com/onegini/scope/" />
    <source-file src="src/android/src/android/com/onegini/util/CallbackResultBuilder.java" target-dir="src/com/onegini/util/" />
    <source-file src="src/android/src/android/com/onegini/util/HashUtil.java" target-dir="src/com/onegini/util/" />
    <source-file src="src/android/src/android/com/onegini/util/DeviceUtil.java" target-dir="src/com/onegini/util/" />
    <source-file src="src/android/lib/plugin-dependencies.jar" target-dir="libs/" />
    <source-file src="src/android/src/android/com/onegini/util/JSONResourceReader.java" target-dir="src/com/onegini/util/" />

    <source-file src="src/android/res/layout/activity_pin_screen.xml" target-dir="res/layout"/>
    <source-file src="src/android/res/values/styles.xml" target-dir="res/values"/>
    <source-file src="src/android/res/values/bools.xml" target-dir="res/values"/>
    <source-file src="src/android/res/values-sw600dp/bools.xml" target-dir="res/values-sw600dp"/>
    <source-file src="src/android/res/values-xlarge/bools.xml" target-dir="res/values-xlarge"/>
    
    <resource-file src="src/android/res/raw/keystore.bks" target="res/raw/keystore.bks" />
    <resource-file src="src/android/config.json" target="res/raw/config.json" />

    <!-- Work in progress, these are not the correct image assets (copied from example PSD with low resolution) --> 
    <resource-file src="src/generic/pin-config.json" target="res/raw/pin_config.json" />
    <resource-file src="src/generic/logo.png" target="res/drawable/logo.png" />
    <resource-file src="src/generic/pin_delete_key_normal.png" target="res/drawable/pin_delete_key_normal.png" />
    <resource-file src="src/generic/pin_delete_key_highlighted.png" target="res/drawable/pin_delete_key_highlighted.png" />
    <resource-file src="src/generic/pin_key_normal.png" target="res/drawable/pin_key_normal.png" />
    <resource-file src="src/generic/pin_key_highlighted.png" target="res/drawable/pin_key_highlighted.png" />
    <resource-file src="src/generic/fonts/SourceSansPro-Regular.ttf" target="assets/fonts/font_regular.ttf"/>
    <resource-file src="src/generic/fonts/SourceSansPro-Light.ttf" target="assets/fonts/font_light.ttf"/>
  </platform>
</plugin>
